<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Coins Demo</title>

<style>
body {
  margin:0; background:#121212; color:#fff;
  font-family: Arial, sans-serif;
}
.app { max-width:430px; margin:auto; }
.top {
  background:#000; padding:14px;
  text-align:center; font-weight:bold;
}
.box {
  background:#1c1c1c; margin:15px;
  padding:16px; border-radius:14px;
}
input {
  width:100%; padding:10px;
  border:none; border-radius:8px;
  font-size:16px;
}
.amount {
  font-size:26px; font-weight:bold;
}
.pack {
  background:#1c1c1c; margin:10px 15px;
  padding:14px; border-radius:14px;
  display:flex; justify-content:space-between;
  align-items:center;
}
button {
  background:#fe2c55; border:none;
  color:#fff; padding:8px 18px;
  border-radius:6px;
  cursor:pointer;
}

/* زر الدفع */
.pay-btn{
  background:#fe2c55;
  color:#fff;
  text-align:center;
  padding:12px;
  border-radius:6px;
  margin-top:12px;
  cursor:pointer;
  font-weight:bold;
}

.hidden { display:none; }
.center { text-align:center; }

/* loader */
.loader {
  width:100%; height:8px;
  background:#333; border-radius:10px;
  overflow:hidden; margin-top:15px;
}
.bar {
  height:100%; width:0%;
  background:#fe2c55;
  animation:load 3s linear forwards;
}
@keyframes load { to { width:100%; } }

.check {
  font-size:40px; color:#00ff88;
  margin-top:15px;
}
.success-text{
  margin-top:8px;
  color:#00ff88;
  font-weight:bold;
}
</style>
</head>

<body>

<div class="app">

<div class="top">Account Balance: <span id="account">100000</span></div>

<!-- الصفحة الرئيسية -->
<div id="page1">

  <div class="box">
    <div>Username</div>
    <input id="user" placeholder="@username">
  </div>

  <div class="box">
    <div>Coins to edit</div>
    <input id="manual" type="number" placeholder="Enter amount" oninput="setManual(this.value)">
    <div class="amount" id="amount">0</div>

    <!-- زر Pay aest -->
    <div class="pay-btn" onclick="askEdit()">Pay aest</div>
  </div>

  <!-- الباكدجات -->
  <div class="pack"><div>+500</div><button onclick="add(500)">Add</button></div>
  <div class="pack"><div>+1000</div><button onclick="add(1000)">Add</button></div>
  <div class="pack"><div>+2000</div><button onclick="add(2000)">Add</button></div>
  <div class="pack"><div>+4000</div><button onclick="add(4000)">Add</button></div>
  <div class="pack"><div>+5000</div><button onclick="add(5000)">Add</button></div>

</div>

<!-- تأكيد -->
<div id="page2" class="hidden box center">
  <p>Do you want to continue?</p>
  <button onclick="start()">Confirm</button>
</div>

<!-- تحميل -->
<div id="page3" class="hidden box center">
  <p>Processing...</p>
  <div class="loader"><div class="bar"></div></div>
</div>

<!-- نجاح -->
<div id="page4" class="hidden box center">
  <div class="check">✔</div>
  <div class="success-text">Successful</div>
  <p id="done"></p>
</div>

</div>

<script>
let amount = 0;
let account = 100000;

function setManual(v){
  amount = parseInt(v || 0);
  document.getElementById("amount").innerText = amount;
}

function add(x){
  amount += x;
  document.getElementById("amount").innerText = amount;
}

function askEdit(){
  if(amount <= 0) return alert("Enter coins");
  page1.classList.add("hidden");
  page2.classList.remove("hidden");
}

function start(){
  page2.classList.add("hidden");
  page3.classList.remove("hidden");

  setTimeout(()=>{
    account -= amount;
    document.getElementById("account").innerText = account;
    let u = document.getElementById("user").value || "@demo";
    document.getElementById("done").innerText = amount + " coins edited for " + u;
    page3.classList.add("hidden");
    page4.classList.remove("hidden");
  },3000);

  setTimeout(()=>{
    page4.classList.add("hidden");
    page1.classList.remove("hidden");
    amount = 0;
    document.getElementById("amount").innerText = 0;
    document.getElementById("manual").value = "";
    // الفارق هنا: خانة اليوزر ترجع فارغة
    document.getElementById("user").value = "";
  },5000);
}
</script>

</body>
</html>
